var AiFormLogger,appInsights=window.appInsights||function(e){function n(e){t[e]=function(){var n=arguments;t.queue.push(function(){t[e].apply(t,n)})}}var t={config:e},i=document,a=window;setTimeout(function(){var n=i.createElement("script");n.src=e.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js",i.getElementsByTagName("script")[0].parentNode.appendChild(n)});try{t.cookie=i.cookie}catch(e){}t.queue=[];for(var r=["Event","Exception","Metric","PageView","Trace","Dependency"];r.length;)n("track"+r.pop());if(n("setAuthenticatedUserContext"),n("clearAuthenticatedUserContext"),n("startTrackEvent"),n("stopTrackEvent"),n("startTrackPage"),n("stopTrackPage"),n("flush"),!e.disableExceptionTracking){n("_"+(r="onerror"));var o=a[r];a[r]=function(e,n,i,a,s){var g=o&&o(e,n,i,a,s);return!0!==g&&t["_"+r](e,n,i,a,s),g}}return t}({instrumentationKey:"Your AI Instrumentation Key",disableAjaxTracking:!0});window.appInsights=appInsights,function(e){function n(e,n,t,i,a,o){disableTelemetry||disableMetricTracking||(window.appInsights.trackMetric(e,n,t,i,a,r(props,o)),enableDebug&&console.log("Application Insights logged metric: "+e))}function t(e,n,t,i,a,o,s,g){disableTelemetry||disableDependencyTracking||(window.appInsights.trackDependency(e,n,t,i,a,o,s,r(props,g),null),enableDebug&&console.log("Application Insights logged dependency: "+e+": "+a))}function i(e,n){e.t0=performance.now(),e.methodName=n}function a(e,n){var i;t(Microsoft.ApplicationInsights.Util.newId(),e._method,e._url,""+e._url,performance.now()-e.t0,n,e.status,{methodName:e.methodName,mode:(i=e._async,i?"Asynchronous":"Synchronous")})}function r(e,n){if(null===n)return e;for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}enableDebug=!1,disableTraceTracking=!1,disableTelemetry=!1,disableExceptionTracking=!1,disableAjaxTracking=!0,disableDependencyTracking=!1,disableMetricTracking=!1,disableEventTracking=!1,targetPage=window,e.startLogging=function(e){e&&function(e){try{e.hasOwnProperty("enableDebug")&&(enableDebug=e.enableDebug,window.appInsights.config.enableDebug=e.enableDebug),e.hasOwnProperty("disableTelemetry")&&(window.appInsights.config.disableTelemetry=e.disableTelemetry),e.hasOwnProperty("verboseLogging")&&(window.appInsights.config.verboseLogging=e.verboseLogging),e.hasOwnProperty("disableExceptionTracking")&&(window.appInsights.config.disableExceptionTracking=e.disableExceptionTracking),e.hasOwnProperty("disableAjaxTracking")&&(window.appInsights.config.disableAjaxTracking=e.disableAjaxTracking),e.hasOwnProperty("maxAjaxCallsPerView")&&(window.appInsights.config.maxAjaxCallsPerView=e.maxAjaxCallsPerView)}catch(e){console.log("Application Insights error parsing configuration parameters: "+e)}}(e),/ClientApiWrapper\.aspx/i.test(window.location.pathname)&&(targetPage=window.parent,enableDebug&&console.log("Application Insights page target: window.parent"));var n=Xrm.Page.ui.formSelector.getCurrentItem().getLabel();props={},props.entityId=Xrm.Page.data.entity.getId().substr(1,36),props.entityName=Xrm.Page.data.entity.getEntityName(),props.formType=function(e){switch(e){case 1:return"Create";case 2:return"Update";case 3:return"Read Only";case 4:return"Disabled";case 6:return"Bulk Edit";default:return"Undefined"}}(Xrm.Page.ui.getFormType()),props.orgName=Xrm.Page.context.getOrgUniqueName(),props.orgVersion=Xrm.Page.context.getVersion(),props.source="JavaScript",window.appInsights.setAuthenticatedUserContext(Xrm.Page.context.getUserId().substr(1,36),null,!1),function e(n,t){if(isNaN(targetPage.performance.timing.loadEventEnd)||isNaN(targetPage.performance.timing.responseEnd)||0===targetPage.performance.timing.loadEventEnd||0===targetPage.performance.timing.responseEnd)setTimeout(function(){e(n,t)},50);else{var i=targetPage.performance.timing.loadEventEnd-targetPage.performance.timing.responseEnd;window.appInsights.trackPageView(n,null,t,null,i),enableDebug&&(console.log("Application Insights page tracking started"),console.log("Application Insights logged page load time: "+i+"ms"))}}(n,props)},e.writeEvent=function(e,n,t){disableTelemetry||disableEventTracking||(window.appInsights.trackEvent(e,r(props,n),t),enableDebug&&console.log("Application Insights logged event: "+e))},e.writeMetric=n,e.writeException=function(e,n,t,i,a){disableTelemetry||disableExceptionTracking||(window.appInsights.trackException(e,n,r(props,t),i,a),enableDebug&&console.log("Application Insights logged exception: "+e.name))},e.writeTrace=function(e,n,t){disableTelemetry||disableTraceTracking||(window.appInsights.trackTrace(e,r(props,n),t),enableDebug&&console.log("Application Insights logged trace: "+e))},e.writeDependency=t,e.writeMethodTime=function(e,t,i){var a=i-t;n("Method Time: "+e,a,null,null,null),enableDebug&&console.log("Application Insights logged method time: "+e+": "+a+"ms")},e.trackDependencyTime=function(e,n){e.addEventListener("loadstart",function(){i(e,n)}),e.addEventListener("load",function(){a(e,!0)}),e.addEventListener("error",function(){a(e,!1)})},e.getStartTime=i,e.getEndTime=a}(AiFormLogger||(AiFormLogger={}));var xhrProto=XMLHttpRequest.prototype,origOpen=xhrProto.open;xhrProto.open=function(e,n,t){return this._url=n,this._method=e,this._async=t,origOpen.apply(this,arguments)};
//# sourceMappingURL=lat_AiLogger.min.js.map
